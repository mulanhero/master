---------------------------------------------------------------------------------------------------------
1. download
---------------------------------------------------------------------------------------------------------
[jcao@jimmy workspace-j]$pwd
/Users/jcao/workspace-j
[jcao@jimmy workspace-j]$wget http://mirror.bit.edu.cn/apache/hadoop/common/hadoop-2.2.0/hadoop-2.2.0-src.tar.gz
svn checkout http://svn.apache.org/repos/asf/hadoop/common/tags/release-2.2.0/ hadoop-2.2.0-src
[jcao@jimmy workspace-j]$tar -zxvf hadoop-2.2.0-src.tar.gz

---------------------------------------------------------------------------------------------------------
2. patch  https://issues.apache.org/jira/i#browse/HADOOP-10110
---------------------------------------------------------------------------------------------------------
[jcao@jimmy hadoop-2.2.0-src]$wget https://issues.apache.org/jira/secure/attachment/12614482/HADOOP-10110.patch
[jcao@jimmy hadoop-2.2.0-src]$patch -p0 < HADOOP-10110.patch
---------------------------------------------------------------------------------------------------------
3. build
---------------------------------------------------------------------------------------------------------
mvn package -Pdist -DskipTests -Dtar  //  on mac, remove -Pnative, o/w, will failed
---------------------------------------------------------------------------------------------------------
4. debug1: java7: can not found classes.jar
---------------------------------------------------------------------------------------------------------
sudo mkdir `/usr/libexec/java_home`/Classes 
sudo ln -s `/usr/libexec/java_home`/lib/tools.jar `/usr/libexec/java_home`/Classes/classes.jar
---------------------------------------------------------------------------------------------------------
5. debug2: maven problem during mvn
---------------------------------------------------------------------------------------------------------
[jcao@jimmy apache]$rm -rf maven/
[jcao@jimmy apache]$pwd
/Users/jcao/.m2/repository/org/apache
---------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------
6) for 2.2.1
---------------------------------------------------------------------------------------------------------
svn checkout http://svn.apache.org/repos/asf/hadoop/common/tags/release-2.2.1-rc0/ hadoop-2.2.1-src
---------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------
