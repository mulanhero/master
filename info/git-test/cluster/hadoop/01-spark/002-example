----------------------------------------------------------------------------------------------
1. two model: --master xxx
----------------------------------------------------------------------------------------------
* yarn-cluster:  Spark driver runs inside AM process, client can go away after initiating the application. 
* yarn-client: the driver runs in the client process, and AM for requesting resources from YARN.
----------------------------------------------------------------------------------------------
2. 
----------------------------------------------------------------------------------------------
[root@cq02-modeloff-node01.cq02.baidu.com spark-1.1.0-bin-hadoop2.4]# ./bin/spark-submit \
--class org.apache.spark.examples.JavaSparkPi \
--master yarn-cluster \
--num-executors 3 \
--driver-memory 1024m  \
--executor-memory 1024m \
--executor-cores 1 \
lib/spark-examples*.jar \
20
----------------
./bin/spark-submit --class org.apache.spark.examples.SparkPi \
    --master yarn-cluster \
    --num-executors 3 \
    --driver-memory 4g \
    --executor-memory 2g \
    --executor-cores 1 \
    lib/spark-examples*.jar \
    10
----------------------------------------------------------------------------------------------
3. console output
----------------------------------------------------------------------------------------------
yarnAppState: FINISHED
distributedFinalState: SUCCEEDED
appTrackingUrl: http://cq02-modeloff-node01.cq02.baidu.com:8088/proxy/application_1416281623847_0010/A
----------------------------------------------------------------------------------------------
4. check result
----------------------------------------------------------------------------------------------
check the AM's log's stdout:
Pi is roughly 3.14124
----------------------------------------------------------------------------------------------
5. yarn-client
----------------------------------------------------------------------------------------------
./bin/spark-shell --master yarn-client
----------------------------------------------------------------------------------------------
6. --jars
----------------------------------------------------------------------------------------------
$ ./bin/spark-submit --class my.main.Class \
    --master yarn-cluster \
    --jars my-other-jar.jar,my-other-other-jar.jar
    my-main-jar.jar
    app_arg1 app_arg2
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------

ResourceManager




cq02-ecom-sdc133.cq02 ping²»Í¨